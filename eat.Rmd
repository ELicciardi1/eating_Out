---
title: "Eating Out"
author: "Ezra Licciardi"
output: 
  html_document:
    number_sections: true
    toc: true
    toc_depth: 5
date: "`r Sys.Date()`"    
    
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## There were two years in which the General Social Survey asked about the frequency of eating out. The variable name you are looking for is "eatout".
### Find those years and for the first year the question was asked download that years data in a stata format - its name will be "GSSxxxx.dta" where the xxxx is replaced by the year.  For example if the year was 1983 its name would be GSS1983.dta. Your assignment is to download the GSS yearly dataset for the first year the question was asked and then  write up the answer to the question by editing the  code block in line 31 to eval=TRUE and finish the job. 


```{r include=FALSE,echo=FALSE}
source(file="fisherXY.R")
require(tidyverse)
require(tigerstats)
require(knitr)
require(foreign)
```

```{r, eval=FALSE, warning=FALSE}
GSS <- readstata13::read.dta13(file="GSS1996.dta")
GSS <- droplevels(GSS)
mydata <- select(GSS,race,age,eatout)
mydata <- na.omit(mydata)
```

# Introduction

There were two years in which the General Social Survey asked about the frequency of eating out.

The next year after 1983 with data available is 1996. We will be comparing race and eatout frequency in the data.

$H_0$ There is no difference among the various races with frequency of eating out  
$H_A$ There is a statistical difference between at least two races with the frequency of eating out  

# Methods

```{r}
glimpse(mydata)
```

Looking at the glimpse function we are comparing two catagorical data types therefore we will use the CandP helper file for Cat~Cat. This will include a bar chart, the tidyverse barchart was used for its ability to show percantages vs ggplot2. Then we will look at numerical results using favstats and finally preform a chi squared test and a fisher exxact test via the fisherXY tool provided.

# Results

## Graphical Results

```{r include = TRUE, echo = FALSE}
barchartGC(~race + eatout,data=mydata, type="percent")
```

We can see from the results that the overall frequency of "white" is higher than both races however the difference from "black" is most pronounced. The "black" and "other" are more similar.

## Numerical Results

```{r}
table1 <- xtabs(~race + eatout, data=mydata)
rowPerc(table1)
```

The white race is eating out almost 20% more likely than black race, once again we see that white eat out at a higher frequency than the other races.

## Inferential Results

```{r}
chisqtestGC(table1)
```

The result of the chi-squared test show that we have a chi-squared statistic far beyond the degrees of freedom of 2 provided from the data. Additionally we do have a critical p-value in the data. There is a difference somewhere in the data.

```{r}
fisherXY(mydata$race,mydata$eatout,printAll=TRUE,confL = 0.99)
```

# Conclusion and Discussion






